{% extends 'core/base.html' %}

{% block title %}
    {% if patient %}Edit Patient{% else %}Add New Patient{% endif %} - Hospital Management System
{% endblock %}

{% block content %}
<div class="card">
    <h2>{% if patient %}Edit Patient{% else %}Add New Patient{% endif %}</h2>
    
    <form method="post">
        {% csrf_token %}
        
        <div class="form-group">
            <label for="name">Name *</label>
            <input type="text" id="name" name="name" value="{{ patient.name|default:'' }}" required>
        </div>
        
        <div class="form-group">
            <label for="age">Age *</label>
            <input type="number" id="age" name="age" value="{{ patient.age|default:'' }}" required>
        </div>
        
        <div class="form-group">
            <label for="gender">Gender *</label>
            <select id="gender" name="gender" required>
                <option value="">Select Gender</option>
                <option value="M" {% if patient.gender == 'M' %}selected{% endif %}>Male</option>
                <option value="F" {% if patient.gender == 'F' %}selected{% endif %}>Female</option>
                <option value="O" {% if patient.gender == 'O' %}selected{% endif %}>Other</option>
            </select>
        </div>
        
        <div class="form-group">
            <label for="phone">Phone *</label>
            <input type="tel" id="phone" name="phone" value="{{ patient.phone|default:'' }}" required>
        </div>
        
        <div class="form-group">
            <label for="address">Address</label>
            <textarea id="address" name="address" rows="3">{{ patient.address|default:'' }}</textarea>
        </div>
        
        <div style="display: flex; gap: 1rem;">
            <button type="submit" class="btn btn-success">
                {% if patient %}Update Patient{% else %}Create Patient{% endif %}
            </button>
            <a href="{% url 'patient_list' %}" class="btn">Cancel</a>
        </div>
    </form>
</div>
{% endblock %} 